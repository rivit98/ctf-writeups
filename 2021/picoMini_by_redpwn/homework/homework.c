/* This file was generated by the Hex-Rays decompiler version 7.7.0.220118.
   Copyright (c) 2007-2021 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

__int64 init_proc(void); // weak
void sub_55650B9F3020();
int putchar(int c);
void sub_55650B9F3036();
void sub_55650B9F3046();
void sub_55650B9F3056();
void sub_55650B9F3066();
void sub_55650B9F3076();
int printf(const char *format, ...);
void sub_55650B9F3086();
void __noreturn __assert_fail(const char *assertion, const char *file, unsigned int line, const char *function);
void sub_55650B9F3096();
void sub_55650B9F30A6();
void sub_55650B9F30B6();
void sub_55650B9F30C6();
void __fastcall __noreturn start(__int64 a1, __int64 a2, __int64 a3);
FILE **deregister_tm_clones();
__int64 register_tm_clones(void); // weak
FILE **_do_global_dtors_aux();
__int64 __fastcall frame_dummy(_QWORD, _QWORD, _QWORD); // weak
__int64 step();
int __cdecl main(int argc, const char **argv, const char **envp);
void __fastcall _libc_csu_init(unsigned int a1, __int64 a2, __int64 a3);
void _libc_csu_fini(void); // idb
void term_proc();
// __int64 _gmon_start__(void); weak

//-------------------------------------------------------------------------
// Data declarations

__int64 (__fastcall *_frame_dummy_init_array_entry)() = &frame_dummy; // weak
__int64 (__fastcall *_do_global_dtors_aux_fini_array_entry)() = &_do_global_dtors_aux; // weak
void *_dso_handle = &_dso_handle; // idb
int dirx = 1; // weak
FILE *stdout = &IO_2_1_stdout_; // idb
char completed_0 = '\0'; // weak
int sn = 39; // weak
int stack[104] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // weak
char board[1100] =
{
  '0',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  '\0',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  '\0',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  ':',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // weak
int rows = 50; // weak
int cols = 22; // weak
int diry = 0; // weak
int pcx = 17; // weak
int pcy = 0; // weak
_UNKNOWN _libc_start_main; // weak
_UNKNOWN _cxa_finalize; // weak


//----- (000055650B9F3000) ----------------------------------------------------
__int64 init_proc()
{
  return 0LL;
}
// 55650B9F3000: using guessed type __int64 __fastcall init_proc();
// 55650B9F77B8: using guessed type __int64 _gmon_start__(void);

//----- (000055650B9F3020) ----------------------------------------------------
void sub_55650B9F3020()
{
  JUMPOUT(0x7FE2B1609C60LL);
}
// 55650B9F3026: control flows out of bounds to 7FE2B1609C60

//----- (000055650B9F3036) ----------------------------------------------------
void sub_55650B9F3036()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3046) ----------------------------------------------------
void sub_55650B9F3046()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3056) ----------------------------------------------------
void sub_55650B9F3056()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3066) ----------------------------------------------------
void sub_55650B9F3066()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3076) ----------------------------------------------------
void sub_55650B9F3076()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3086) ----------------------------------------------------
void sub_55650B9F3086()
{
  sub_55650B9F3020();
}

//----- (000055650B9F3096) ----------------------------------------------------
void sub_55650B9F3096()
{
  sub_55650B9F3020();
}

//----- (000055650B9F30A6) ----------------------------------------------------
void sub_55650B9F30A6()
{
  sub_55650B9F3020();
}

//----- (000055650B9F30B6) ----------------------------------------------------
void sub_55650B9F30B6()
{
  sub_55650B9F3020();
}

//----- (000055650B9F30C6) ----------------------------------------------------
void sub_55650B9F30C6()
{
  sub_55650B9F3020();
}

//----- (000055650B9F30D0) ----------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall __noreturn start(__int64 a1, __int64 a2, __int64 a3)
{
  __int64 v3; // rax
  __int64 v4; // rsi
  __int64 v5; // [rsp-8h] [rbp-8h] BYREF
  void *retaddr; // [rsp+0h] [rbp+0h] BYREF

  v4 = v5;
  v5 = v3;
  ((void (__fastcall *)(int (__cdecl *)(int, const char **, const char **), __int64, void **, void (__fastcall *)(unsigned int, __int64, __int64), void (*)(void), __int64, __int64 *))_libc_start_main)(
    main,
    v4,
    &retaddr,
    _libc_csu_init,
    _libc_csu_fini,
    a3,
    &v5);
  __halt();
}
// 55650B9F30DA: positive sp value 8 has been found
// 55650B9F30E1: variable 'v3' is possibly undefined

//----- (000055650B9F3100) ----------------------------------------------------
FILE **deregister_tm_clones()
{
  return &stdout;
}

//----- (000055650B9F3130) ----------------------------------------------------
__int64 register_tm_clones()
{
  return 0LL;
}
// 55650B9F3130: using guessed type __int64 __fastcall register_tm_clones();

//----- (000055650B9F3170) ----------------------------------------------------
FILE **_do_global_dtors_aux()
{
  FILE **result; // rax

  if ( !completed_0 )
  {
    if ( &_cxa_finalize )
      ((void (__fastcall *)(void *))_cxa_finalize)(_dso_handle);
    result = deregister_tm_clones();
    completed_0 = 1;
  }
  return result;
}
// 55650B9F7098: using guessed type char completed_0;

//----- (000055650B9F31C0) ----------------------------------------------------
__int64 frame_dummy()
{
  return register_tm_clones();
}
// 55650B9F3130: using guessed type __int64 register_tm_clones(void);
// 55650B9F31C0: using guessed type __int64 __fastcall frame_dummy();

//----- (000055650B9F31C9) ----------------------------------------------------
__int64 step()
{
  int v1; // eax

  switch ( board[22 * pcy + pcx] )
  {
    case '!':                                   // is_zero
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x35u, "step");
      stack[sn - 1] = stack[sn - 1] == 0;
      goto LABEL_76;
    case '$':                                   // pop
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x64u, "step");
      --sn;
      goto LABEL_76;
    case '%':
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x30u, "step");
      stack[sn - 2] %= stack[sn - 1];
      --sn;
      goto LABEL_76;
    case '*':
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x26u, "step");
      stack[sn - 2] *= stack[sn - 1];
      --sn;
      goto LABEL_76;
    case '+':
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x1Cu, "step");
      stack[sn - 2] += stack[sn - 1];
      --sn;
      goto LABEL_76;
    case ',':
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x6Du, "step");
      putchar(stack[--sn]);                     // the only option to print sth
      goto LABEL_76;
    case '-':
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x21u, "step");
      stack[sn - 2] -= stack[sn - 1];
      --sn;
      goto LABEL_76;
    case '.':
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x68u, "step");
      printf("%d", (unsigned int)stack[--sn]);  // print but as number
      goto LABEL_76;
    case '/':
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x2Bu, "step");
      stack[sn - 2] /= stack[sn - 1];
      --sn;
      goto LABEL_76;
    case ':':                                   // dup
      if ( sn <= 0 )
        __assert_fail("sn >=1", "homework.c", 0x59u, "step");
      stack[sn] = stack[sn - 1];
      ++sn;
      goto LABEL_76;
    case '<':
      dirx = -1;
      diry = 0;
      goto LABEL_76;
    case '>':
      dirx = 1;
      diry = 0;
      goto LABEL_76;
    case '@':                                   // exit
      return 0LL;
    case '\\':                                  // swap
      if ( sn <= 1 )
        __assert_fail("sn >=2", "homework.c", 0x5Eu, "step");
      stack[sn - 1] ^= stack[sn - 2];
      stack[sn - 2] ^= stack[sn - 1];
      stack[sn - 1] ^= stack[sn - 2];
      goto LABEL_76;
    case '^':
      dirx = 0;
      diry = -1;
      goto LABEL_76;
    case '_':
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x4Du, "step");
      if ( stack[--sn] )
        dirx = -1;
      else
        dirx = 1;
      diry = 0;
      goto LABEL_76;
    case '`':                                   // is_greater
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x39u, "step");
      stack[sn - 2] = stack[sn - 2] > stack[sn - 1];
      goto LABEL_76;
    case 'g':                                   // load_from_mem
      if ( sn <= 1 )
        __assert_fail("sn >= 2", "homework.c", 0x72u, "step");
      if ( stack[sn - 2] < 0 || stack[sn - 1] < 0 )
        __assert_fail("stack[sn-2] >= 0 && stack[sn-1] >= 0", "homework.c", 0x73u, "step");
      if ( stack[sn - 1] > rows || stack[sn - 2] > cols )
        __assert_fail("stack[sn-1] <= rows && stack[sn-2] <= cols", "homework.c", 0x74u, "step");
      stack[sn - 2] = board[22 * stack[sn - 1] + stack[sn - 2]];
      --sn;
      goto LABEL_76;
    case 'p':                                   // store_to_mem
      if ( sn <= 2 )
        __assert_fail("sn >= 3", "homework.c", 0x79u, "step");
      if ( stack[sn - 2] < 0 || stack[sn - 1] < 0 )
        __assert_fail("stack[sn-2] >= 0 && stack[sn-1] >= 0", "homework.c", 0x7Au, "step");
      if ( stack[sn - 1] > rows || stack[sn - 2] > cols )
        __assert_fail("stack[sn-1] <= rows && stack[sn-2] <= cols", "homework.c", 0x7Bu, "step");
      board[22 * stack[sn - 1] + stack[sn - 2]] = stack[sn - 3];
      sn -= 3;
      goto LABEL_76;
    case 'v':
      dirx = 0;
      diry = 1;
      goto LABEL_76;
    case '|':
      if ( sn <= 0 )
        __assert_fail("sn >= 1", "homework.c", 0x53u, "step");
      if ( stack[--sn] )
      {
        dirx = 0;
        diry = -1;
      }
      else
      {
        dirx = 0;
        diry = 1;
      }
      goto LABEL_76;
    default:
      if ( board[22 * pcy + pcx] == '0' )       // push_zero
      {
        if ( sn > 99 )
          __assert_fail("sn < 100", "homework.c", 0x81u, "step");
        v1 = sn++;
        stack[v1] = 0;
      }
LABEL_76:
      pcx += cols + dirx;
      pcx %= cols;
      pcy += rows + diry;
      pcy %= rows;
      return 1LL;
  }
}
// 55650B9F7078: using guessed type int dirx;
// 55650B9F70A0: using guessed type int sn;
// 55650B9F70C0: using guessed type int stack[104];
// 55650B9F76AC: using guessed type int rows;
// 55650B9F76B0: using guessed type int cols;
// 55650B9F76B4: using guessed type int diry;
// 55650B9F76B8: using guessed type int pcx;
// 55650B9F76BC: using guessed type int pcy;

//----- (000055650B9F3E82) ----------------------------------------------------
int __cdecl main(int argc, const char **argv, const char **envp)
{
  int i; // [rsp+4h] [rbp-Ch]
  FILE *stream; // [rsp+8h] [rbp-8h]

  setvbuf(stdout, 0LL, 2, 0LL);
  stream = fopen("flag.txt", "r");
  __isoc99_fscanf(stream, "%s", &flag);
  fclose(stream);
  puts("Enter homework sol");
  rows = 50;
  cols = 22;
  for ( i = 0; i <= 3 && fgets(&board[22 * i], cols + 1, stdin) && board[22 * i] != 0x52; ++i )
    board[22 * i - 1 + strlen(&board[22 * i])] = 0;
  while ( (unsigned int)step() )
    ;
  do_you_like_gittens = 1;
  does_gittens_watch_cat_videos = 1;
  return 0;
}
// 55650B9F3040: using guessed type __int64 __isoc99_fscanf(_QWORD, const char *, ...);
// 55650B9F31C9: using guessed type __int64 step(void);
// 55650B9F76AC: using guessed type int rows;
// 55650B9F76B0: using guessed type int cols;
// 55650B9F76C0: using guessed type int do_you_like_gittens;
// 55650B9F76C4: using guessed type int does_gittens_watch_cat_videos;

//----- (000055650B9F4020) ----------------------------------------------------
void __fastcall _libc_csu_init(unsigned int a1, __int64 a2, __int64 a3)
{
  signed __int64 v4; // rbp
  __int64 i; // rbx

  init_proc();
  v4 = &_do_global_dtors_aux_fini_array_entry - &_frame_dummy_init_array_entry;
  if ( v4 )
  {
    for ( i = 0LL; i != v4; ++i )
      ((void (__fastcall *)(_QWORD, __int64, __int64))*(&_frame_dummy_init_array_entry + i))(a1, a2, a3);
  }
}
